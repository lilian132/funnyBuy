(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-product-store"],{"075d":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.store[data-v-ad0270ee]{padding:%?30?% %?30?%}.store .explain[data-v-ad0270ee]{width:%?690?%;height:%?80?%;font-size:%?24?%!important;color:#4a4a4a}.store .explain span[data-v-ad0270ee]{color:#ff8678}.store .beans[data-v-ad0270ee]{margin-top:%?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;min-height:%?580?%}.store .beans .beans-pea[data-v-ad0270ee]{width:28.7%;height:%?162?%;background:rgba(242,164,36,.04);border-radius:%?10?%;border:%?1?% solid #f5a623;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:%?30?%}.store .beans .beans-pea[data-v-ad0270ee]:hover{background-color:rgba(242,164,36,.3)}.store .beans .beans-pea .doudou uni-text[data-v-ad0270ee]{font-size:%?30?%;font-family:PingFangSC-Medium;font-weight:500;color:#4a4a4a}.store .beans .beans-pea .pices[data-v-ad0270ee]{margin-top:%?8?%}.store .beans .beans-pea .pices .pic[data-v-ad0270ee]{font-size:%?24?%;font-family:PingFangSC-Regular;font-weight:400;color:#4a4a4a}.store .beans .beans-pea .pices .money[data-v-ad0270ee]{font-size:%?30?%;font-family:PingFangSC-Regular;font-weight:400;color:#4a4a4a}.store .advertising[data-v-ad0270ee]{margin-top:%?180?%;height:%?300?%}.store .advertising uni-image[data-v-ad0270ee]{width:100%;height:%?300?%;border-radius:%?20?%}.store .mask_layer[data-v-ad0270ee]{position:fixed;width:100%;height:100%;left:0;top:0;background-color:rgba(0,0,0,.75);z-index:10;opacity:0;-webkit-transition:opacity ease-in .35s;-o-transition:opacity ease-in .35s;transition:opacity ease-in .35s;display:none}.store .mask_layer.show[data-v-ad0270ee]{display:block;opacity:1}.store .pay_pop[data-v-ad0270ee]{position:fixed;width:100%;bottom:-50%;left:0;background-color:#fff;-webkit-transition:bottom ease-in .35s;-o-transition:bottom ease-in .35s;transition:bottom ease-in .35s;z-index:11;border-radius:%?20?% %?20?% 0 0}.store .pay_pop.show[data-v-ad0270ee]{bottom:0}.store .pay_pop .total-info[data-v-ad0270ee]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:#4a4a4a;height:%?102?%;padding:0 %?30?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-bottom:%?1?% solid #e0e7eb}.store .pay_pop .total-info uni-view[data-v-ad0270ee]{font-size:%?30?%;line-height:%?100?%}.store .pay_pop .total-info .m[data-v-ad0270ee]{color:#ff5847}.store .pay_pop .payment[data-v-ad0270ee]{height:%?221?%;background:#fff}.store .pay_pop .payment .pay-item[data-v-ad0270ee]{height:%?110?%;border-bottom:%?1?% solid #e0e7eb;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 %?30?%}.store .pay_pop .payment .pay-item .pay-left[data-v-ad0270ee]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.store .pay_pop .payment .pay-item .pay-left uni-image[data-v-ad0270ee]{padding:0 %?28?% %?0?% 0;width:%?50?%;height:%?50?%}.store .pay_pop .payment .pay-item .pay-left uni-text[data-v-ad0270ee]{font-size:%?36?%;font-family:PingFangSC-Regular;font-weight:400;color:#4a4a4a}.store .pay_pop .payment .pay-item .pay-right[data-v-ad0270ee]{padding-right:0}.store .pay_pop .agreement[data-v-ad0270ee]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:%?21?% %?20?% %?30?% %?30?%}.store .pay_pop .agreement .agreement-left[data-v-ad0270ee]{height:%?30?%;font-size:%?24?%;font-family:PingFangSC-Regular;font-weight:400;color:#000}.store .pay_pop .agreement .agreement-left uni-image[data-v-ad0270ee]{vertical-align:middle;width:100%;height:100%}.store .pay_pop .btnPay[data-v-ad0270ee]{width:100%;height:%?100?%;line-height:%?100?%;background-color:#ff5847;text-align:center;color:#fff;font-size:%?34?%;font-weight:500;letter-spacing:%?1?%}',""])},7013:function(e,t,a){"use strict";a.r(t);var i=a("9814"),n=a("c862");for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);a("bea5");var s=a("2877"),r=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"ad0270ee",null);t["default"]=r.exports},8359:function(e,t,a){var i=a("075d");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("45ec1b9a",i,!0,{sourceMap:!1,shadowMode:!1})},9814:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"store"},[a("v-uni-view",{staticClass:"explain"},[a("v-uni-text",[e._v("金豆可用来出价抢购，增加获得商品机率，"),a("span",[e._v("且抢购过程中用出的金豆可退回50%哦")])])],1),a("v-uni-view",{staticClass:"beans"},e._l(e.list,function(t,i){return a("v-uni-view",{key:i,staticClass:"beans-pea",on:{click:function(a){a=e.$handleEvent(a),e.toPayPop(t)}}},[a("v-uni-view",{staticClass:"doudou"},[a("v-uni-text",[e._v(e._s(t.buyNum)+"金豆")])],1),a("v-uni-view",{staticClass:"pices"},[a("v-uni-text",{staticClass:"pic"},[e._v("¥")]),a("v-uni-text",{staticClass:"money"},[e._v(e._s(t.price))])],1)],1)}),1),a("v-uni-view",{staticClass:"advertising"},[a("v-uni-image",{attrs:{src:"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=781011805,4127206800&fm=26&gp=0.jpg"}})],1),a("v-uni-view",{ref:"masklayer",staticClass:"mask_layer",class:{show:e.showPay},on:{click:function(t){t=e.$handleEvent(t),e.hidePop(t)}}}),a("v-uni-view",{staticClass:"pay_pop",class:{show:e.showPay}},[a("v-uni-view",{staticClass:"total-info"},[a("v-uni-view",[e._v("支付方式")]),a("v-uni-view",{staticClass:"m"},[e._v("¥"+e._s(e.payMoney))])],1),a("v-uni-view",{staticClass:"payment"},[a("v-uni-radio-group",{attrs:{name:"radio"},on:{change:function(t){t=e.$handleEvent(t),e.changePayType(t)}}},[a("v-uni-label",{staticClass:"pay-item pay-weixin"},[a("v-uni-view",{staticClass:"pay-left"},[a("v-uni-image",{attrs:{src:"../../static/img/user/pic-weixin-n.png"}}),a("v-uni-text",[e._v("微信")])],1),a("v-uni-view",{staticClass:"pay-right"},[a("v-uni-view",{staticClass:"reset"},[a("v-uni-radio",{attrs:{value:"1",color:"#fa436a",checked:1==e.payType}})],1)],1)],1),a("v-uni-label",{staticClass:"pay-item pay-zhifubao"},[a("v-uni-view",{staticClass:"pay-left"},[a("v-uni-image",{attrs:{src:"../../static/img/user/pic-zhifubao.png"}}),a("v-uni-text",[e._v("支付宝")])],1),a("v-uni-view",{staticClass:"pay-right"},[a("v-uni-view",{staticClass:"reset"},[a("v-uni-radio",{attrs:{value:"2",color:"#fa436a",checked:2==e.payType}})],1)],1)],1)],1)],1),a("v-uni-view",{staticClass:"agreement"},[a("v-uni-view",{staticClass:"agreement-left"},[a("v-uni-label",[a("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)","vertical-align":"2upx"},attrs:{checked:"checked",color:"#FFCC33"}}),e._v("我已同意《用户协议》")],1)],1)],1),a("v-uni-view",{staticClass:"btnPay",attrs:{"hover-class":"navigator-hover"},on:{click:function(t){t=e.$handleEvent(t),e.btnToPay(t)}}},[e._v("立即支付")])],1)],1)},n=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n})},bea5:function(e,t,a){"use strict";var i=a("8359"),n=a.n(i);n.a},c862:function(e,t,a){"use strict";a.r(t);var i=a("d622"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,function(){return i[e]})}(o);t["default"]=n.a},d622:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{payType:1,showPay:!1,payMoney:0,curPayItem:"",list:[]}},onLoad:function(){this.getMyDD()},methods:{getMyDD:function(){var e=this;this.$api.postAPI("points/pointsProductList").then(function(t){if(uni.hideLoading(),0!=t.data.code)return uni.showToast({title:t.data.msg,icon:"none",duration:3e3});e.list=t.data.data}).catch(function(e){return uni.hideLoading(),uni.showToast({title:"网络错误",icon:"none",duration:3e3})})},changePayType:function(e){this.payType=e.mp.detail.value},hidePop:function(){var e=this;this.showPay=!this.showPay,setTimeout(function(){e.$refs.masklayer.$el.style.display="none"},200)},toPayPop:function(e){var t=this;this.payMoney=e.price,this.curPayItem=e,this.$refs.masklayer.$el.style.display="block",setTimeout(function(){t.showPay=!0},100)},btnToPay:function(){this.curPayItem&&this.confirm()},getUUID:function(){return"xxxx-xxxx-xxxx-xxxx-xxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,a="x"==e?t:3&t|8;return a.toString(16)})},confirm:function(){var e=this,t=this.getUUID();this.$api.postAPI("points/buyPoints",{outOrderNo:t,productTicketId:this.curPayItem.id}).then(function(t){if(uni.hideLoading(),0!=t.data.code)return uni.showToast({title:t.data.msg,icon:"none",duration:3e3});e.toPay(t.data.data.orderNo)}).catch(function(e){return uni.hideLoading(),uni.showToast({title:"网络错误",icon:"none",duration:3e3})})},toPay:function(e){var t=this,a={orderNo:e,payType:this.payType};uni.showLoading({title:"正在提交中..."}),this.$api.postAPI("pay/pay",a).then(function(e){if(setTimeout(function(){uni.hideLoading()},8e3),0!=e.data.code)return uni.showToast({title:e.data.msg,icon:"none",duration:3e3});t.goClientPay(e.data.data)}).catch(function(e){return uni.hideLoading(),uni.showToast({title:"网络错误",icon:"none",duration:3e3})})},goClientPay:function(e){var t=1==this.payType?"wxpay":"alipay",a=1==this.payType?"Sign=WXPay":"Sign=alipay",i={appid:e.appid,partnerid:e.partnerid,prepayid:e.prepayid,package:a,noncestr:e.noncestr,timestamp:e.timestamp,sign:e.sign};uni.requestPayment({provider:t,orderInfo:JSON.stringify(i),success:function(e){uni.hideLoading(),console.log("success:"+JSON.stringify(e)),this.payMessage=e,uni.showToast({title:e,icon:"none",duration:3e3}),setTimeout(function(){uni.navigateBack()},1500)},fail:function(e){uni.hideLoading(),console.log("fail:"+JSON.stringify(e)),uni.showToast({title:"支付失败",icon:"none",duration:3e3})}})}}};t.default=i}}]);